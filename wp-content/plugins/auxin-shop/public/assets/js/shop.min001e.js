!function($){$(function(){$(".woocommerce-product-gallery .flex-control-thumbs img, .woocommerce-product-gallery .flex-viewport img").matchHeight(),$(".single-product .aux-sticky-position").AuxinStickyPosition(),$(".single-product").photoSwipe({target:".auxshp-lightbox-btn",bgOpacity:.97,shareEl:!0,preloaderEl:!0}),$window.on("resize load removed_from_cart added_to_cart",function(){var viewportWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),dropdown=(Math.max(document.documentElement.clientHeight,window.innerHeight||0),document.querySelector(".aux-card-dropdown"));if(dropdown){var dropdownBoundaries=dropdown.getBoundingClientRect();if(dropdownBoundaries.right>viewportWidth)dropdown.style.right="0px",dropdown.style.left="auto";else{if(!(dropdownBoundaries.left<0))return;dropdown.style.right="auto",dropdown.style.left="0px"}}}),$.fn.AuxVariationImgUpdate=function($scope){if("undefined"!=typeof productAttr){var flexSliderInstance=($scope=$scope||$(this)).find(".woocommerce-product-gallery").data("flexslider"),$variations=$scope.find(".auxshp-variations select"),$resetButton=$scope.find(".reset_variations"),isMs="undefined"!=typeof masterslider_instances;$variations.each(function(index,element){$(this).on("change",function(event){var slideIndex,value=this.value,attrName=this.getAttribute("name");Object.keys(productAttr).forEach(function(index){productAttr[index][attrName]===value&&(slideIndex=parseInt(index))}),value&&void 0!==slideIndex&&(isMs?masterslider_instances[0].api.gotoSlide(slideIndex):flexSliderInstance&&flexSliderInstance.flexAnimate(slideIndex))})}),$resetButton.on("click",function(){isMs?masterslider_instances[0].api.gotoSlide(0):flexSliderInstance.flexAnimate(0)})}},$(".single-product .auxshp-template-slider").AuxVariationImgUpdate()});var spinner=$(".aux-number");spinner.spinner({min:""!==spinner.data("min")?spinner.data("min"):1,max:""!==spinner.data("max")?spinner.data("max"):99,step:spinner.data("step")}),$("body").on("spinstart updated_wc_div",function(event){$(".aux-shop-table.cart").closest("form").find('input[name="update_cart"]').prop("disabled",!1),(spinner=$(".aux-number")).spinner({min:""!==spinner.data("min")?spinner.data("min"):1,max:""!==spinner.data("max")?spinner.data("max"):99,step:spinner.data("step")})});var zoomItems=$(".woocommerce-product-gallery .auxin-attachment");$.each(zoomItems,function(index,val){var $val=$(val);$img=$val.find("img"),$val.width()<$img.data("original-width")&&($val.trigger("zoom.destroy"),$val.zoom())}),$(window).on("woocommerce_gallery_init_zoom",function(event){if($.fn.masterslider_instances){var WCSlider,mastersliderObjs=masterslider_instances,$sliderID=$(".woocommerce-product-gallery .master-slider").attr("id");mastersliderObjs.forEach(function(el){el.$element.attr("id")!==$sliderID||(WCSlider=el)}),WCSlider&&WCSlider.api.gotoSlide(0)}}),$.fn.AuxinWishList=function($scope){var $wishlistButton=($scope=$scope||$(this)).hasClass("auxshp-wishlist")?$scope:$scope.find(".auxshp-wishlist"),$text=$wishlistButton.find(".auxshp-wishlist-text"),$WishListcontainer=$(".auxshp-wishlist-container");$("body").on("tinvwl_wishlist_mark_products",function(event,data){var productID=$('button[name="add-to-cart"').val();void 0===data.products[productID]||$wishlistButton.hasClass("available-remove")?void 0!==data.products[productID]||$wishlistButton.hasClass("available-add")||($wishlistButton.removeClass("available-remove wl-animate-added"),$wishlistButton.addClass("available-add wl-animate-removed"),$text.text(auxshp.add_to_wishlist)):($wishlistButton.addClass("available-remove wl-animate-added"),$wishlistButton.removeClass("available-add wl-animate-removed"),$text.text(auxshp.remove_from_wishlist)),$(".add_to_cart_button").each(function(){productID=$(this).data("product_id");var $cardWishlistButton=$(this).parents(".aux-product-tools").find(".auxshp-wishlist");$cardWishlistButton.length&&(void 0===data.products[productID]||$cardWishlistButton.hasClass("available-remove")?void 0!==data.products[productID]||$cardWishlistButton.hasClass("available-add")||($cardWishlistButton.removeClass("available-remove wl-animate-added"),$cardWishlistButton.addClass("available-add wl-animate-removed"),$text.text(auxshp.add_to_wishlist)):($cardWishlistButton.addClass("available-remove wl-animate-added"),$cardWishlistButton.removeClass("available-add wl-animate-removed"),$text.text(auxshp.remove_from_wishlist)))})}),$wishlistButton.hasClass("tinvwl_add_to_wishlist_button")||$wishlistButton.on("click",function(e){if(e.preventDefault(),!$(this).hasClass("disabled-add-wishlist")){var $this=$(this),data={action:"auxshp_wishlist_add",product_id:$this.data("auxshp-product_id"),verify_nonce:$this.data("auxshp-verify_nonce")};$this.hasClass("available-remove")?(data.action="auxshp_wishlist_remove",$this.removeClass("available-remove wl-animate-added"),$this.addClass("available-add wl-animate-removed")):($this.removeClass("available-add wl-animate-removed"),$this.addClass("available-remove wl-animate-added")),$.post(auxshp.ajax_url,data,function(res){$text.text(res.data.status),$WishListcontainer&&(2<$WishListcontainer.find("tr").length?$this.closest("tr").remove():$WishListcontainer.html(res.data.message))})}})},$(".auxshp-wishlist").each(function(){$(this).AuxinWishList()}),$(" .aux-widget-recent-products-parallax").each(function(index,element){var $element=$(element),$filters=$element.find(".aux-ajax-filters ul li"),$container=$element.find(".aux-product-parallax-wrapper"),$loading=$container.find(".aux-items-loading");data={action:"auxin_parallax_products_handler",n:$container.data("n"),args:eval($container.data("element-id")+"AjaxConfig")},$filters.on("click",function(e){e.preventDefault();var $columns=$container.find('[class*="aux-parallax-column"]'),$this=$(this),data={action:"auxin_parallax_products_handler",n:$container.data("n"),args:eval($container.data("element-id")+"AjaxConfig"),term:$this.data("category-id")};$.post(auxshp.ajax_url,data,function(res){if(res){var $items=$(res.data).filter(".aux-parallax-item");$container.AuxinMasonryAnimate("showLoading"),setTimeout(function(){$container.AuxinMasonryAnimate("insertItem",$items),$container.AuxinMasonryAnimate("hideLoading")},500)}})})}),$(document).on("click",".aux-remove-cart-content",function(e){e.preventDefault();var product_id=$(this).data("product_id"),verify_nonce=$(this).data("verify_nonce"),$cartBoxEl=$(this).closest(".aux-cart-wrapper").addClass("aux-cart-remove-in-progress");$.ajax({type:"POST",dataType:"json",url:auxshp.ajax_url,data:{action:"auxshp_product_remove",product_id:product_id,verify_nonce:verify_nonce},success:function(response){$(".woocommerce-message, .woocommerce-error").remove(),response.success?($(".aux-hidden-blocks").append(response.data.notif),0===parseInt(response.data.total)?($(".aux-card-dropdown").html(response.data.empty),$(".aux-cart-contents").find("span").remove()):($(".aux-card-item").filter(function(){return $(this).data("product-id")==product_id}).remove(),$(".aux-cart-contents").find("span").text(response.data.count)),$(".aux-cart-subtotal").each(function(){$(this).find(".woocommerce-Price-amount").contents().filter(function(){return 3==this.nodeType})[0].nodeValue=response.data.total}),$cartBoxEl.removeClass("aux-cart-remove-in-progress")):$(".aux-hidden-blocks").append(response.data)}})}),$.fn.AdvancedRecentProductAjax=function($scope){$scope=$scope||$(this),$this=$scope.hasClass("aux-widget-recent-products-pro")?$scope:$scope.find(".aux-widget-recent-products-pro"),$container=$this.find(".aux-ajax-view"),$paginateLinks=$scope.find(".aux-pagination a"),$ajaxSpinner=$this.find(".aux-items-loading"),$filterLists=$this.find(".aux-ajax-filters li[data-category-id]"),$sortLists=$this.find(".aux-sort-filter li[data-filter]"),get_data=function($scope,$paged){return $container=$scope.find(".aux-ajax-view"),$ajaxSpinner=$scope.find(".aux-items-loading"),$filterLists=$scope.find(".aux-ajax-filters li[data-category-id]"),{action:"aux_advacned_recent_product_filter_content",widget:$scope,container:$container,ajaxSpinner:$ajaxSpinner,filterLists:$filterLists,taxonomy:$container.data("taxonomy"),num:$container.data("num"),order:$container.data("order"),orderby:$container.data("orderby"),n:$container.data("n"),args:eval($container.data("element-id")+"AjaxConfig"),paged:$paged}};var main_url=window.location.href;window.addEventListener("popstate",function(e){if(-1!==window.location.href.indexOf("#/")){var get_deeplink_part=window.location.href.substr(window.location.href.indexOf("#/")+2),slug=get_deeplink_part.substr(0,get_deeplink_part.indexOf("/"));data=get_data($('.aux-recent-products-pro-wrapper.aux-ajax-view[data-slug="'+slug+'"]').parents(".aux-widget-recent-products-pro")),data.term=get_deeplink_part.substr(get_deeplink_part.indexOf("/")+1),deeplink_check_url("from_popstate",data)}else $(document).find(".aux-widget-recent-products-pro").each(function(){$(this).find('li[data-category-id="all"] > a').hasClass("aux-selected")||(data=get_data($(this)),data.term="all",deeplink_check_url("from_popstate",data))})}),$filterLists.on("click",function(e){e.preventDefault(),data=get_data($(this).parents(".aux-widget-recent-products-pro")),data.term=$(this).data("category-id"),data.container.removeClass("slow-show").addClass("slow-hide"),data.ajaxSpinner.removeClass("aux-loading-hide").addClass("aux-loading-visible"),load_products(data),deeplink_save_url(data)}),ajax_pagination=function($paginateLinks){$paginateLinks.on("click",function(e){e.preventDefault(),data=get_data($(this).parents(".aux-widget-recent-products-pro"),$(this).data("paged")),data.term=data.container.find(".aux-filters a.aux-selected").parent("li").data("category-id"),data.container.removeClass("slow-show").addClass("slow-hide"),data.ajaxSpinner.removeClass("aux-loading-hide").addClass("aux-loading-visible"),load_products(data),deeplink_save_url(data),ajax_pagination($paginateLinks)})},ajax_pagination($paginateLinks),load_products=function(data){ajax_request_data={action:data.action,taxonomy:data.taxonomy,num:data.num,order:data.order,orderby:data.orderby,n:data.n,args:data.args,term:data.term,paged:data.paged},$.post(auxshp.ajax_url,ajax_request_data,function(res){res&&setTimeout(function(){data.container.empty(),data.container.append(res.data),data.ajaxSpinner.removeClass("aux-loading-visible").addClass("aux-loading-hide"),data.container.removeClass("slow-hide").addClass("slow-show"),$(".auxshp-wishlist").each(function(){$(this).AuxinWishList()}),$(".aux-shop-quicklook-wrapper").each(function(index,el){$(this).AuxinQuickLook()}),ajax_pagination(data.container.find(".aux-pagination a"))},1e3)})},deeplink_save_url=function(data){if("yes"==data.args.deeplink){var new_url=main_url+"#/"+data.args.deeplink_slug+"/"+data.term;window.history.pushState(main_url,"",new_url)}},deeplink_check_url=function(from,data){var id_location=window.location.href.indexOf("#/"+data.args.deeplink_slug+"/");if(-1!==id_location)data.term=window.location.href.substr(id_location+data.args.deeplink_slug.length+3);else{if("from_popstate"!==from)return;data.term="all"}data.container.removeClass("slow-show").addClass("slow-hide"),data.ajaxSpinner.removeClass("aux-loading-hide").addClass("aux-loading-visible"),data.filterLists.find(" > a").removeClass("aux-selected"),data.widget.find('.aux-ajax-filters li[data-category-id="'+data.term+'"] a').addClass("aux-selected"),load_products(data)},deeplink_check_url("",get_data($this)),$sortLists.on("click",function(e){e.preventDefault(),data.sort=$(this).data("filter"),$(this).attr("data-filter-order")&&(data.sortOrder=$(this).attr("data-filter-order")),$container.removeClass("slow-show").addClass("slow-hide"),$ajaxSpinner.removeClass("aux-loading-hide").addClass("aux-loading-visible"),$.post(auxshp.ajax_url,data,function(res){res&&setTimeout(function(){$container.empty(),$container.append(res.data),$ajaxSpinner.removeClass("aux-loading-visible").addClass("aux-loading-hide"),$container.removeClass("slow-hide").addClass("slow-show"),$(".auxshp-wishlist").each(function(){$(this).AuxinWishList()}),$(".aux-shop-quicklook-wrapper").each(function(index,el){$(this).AuxinQuickLook()})},1e3)})})},$(".aux-widget-recent-products-pro").each(function(){$(this).AdvancedRecentProductAjax()}),$.fn.AuxinQuickLook=function($scope){var st={$btnListener:($scope=$scope||$(this)).find(".aux-shop-quicklook"),$modalTarget:$(".aux-hidden-blocks"),modalClass:"aux-shop-quicklook-modal",modalOnOpenClass:"aux-open aux-loading"};st.$btnListener.on("click",function(e){var $modal=$("<dialog></dialog>");$modal.addClass(st.modalClass),$modal.appendTo(st.$modalTarget),$closeBtn=$('<button type="button" class="aux-quicklook-close"><i class="aux-ico auxicon-close-1"></i></button>'),$closeBtn.appendTo($modal),setTimeout(function(){$modal.addClass(st.modalOnOpenClass)},300);var data={action:"aux_quick_look_content",nonce:$(this).data("verify-nonce"),productID:$(this).data("product-id"),productType:$(this).data("product-type")};dialogPolyfill.registerDialog($modal[0]),$modal[0].showModal(),$.post(auxshp.ajax_url,data,function(res){$(".aux-shop-quicklook-modal").removeClass("aux-loading"),$(res.data).appendTo($modal),$(".aux-quicklook-carousel").AuxinCarousel({columns:1}),$(".aux-shop-quicklook-modal .auxshp-wishlist").each(function(){$(this).AuxinWishList()}),$.fn.AuxinJsSocialsInit($modal);var spinner=$("input.qty");spinner.spinner({min:""!==spinner.data("min")?spinner.data("min"):1,max:""!==spinner.data("max")?spinner.data("max"):99}),$.fn.tawcvs_variation_swatches_form&&($(".variations_form").tawcvs_variation_swatches_form(),$(document.body).trigger("tawcvs_initialized")),$(".aux-shop-quicklook-modal form").on("submit",function(e){$(this).wc_variation_form().find(".variations select:eq(0)").change(),$(this).trigger("check_variations"),$(this).trigger("woocommerce_update_variation_values")})}),$closeBtn.on("click",function(){$modal[0].close(),$modal.remove()})})},$(".aux-shop-quicklook-wrapper").each(function(index,el){$(this).AuxinQuickLook()}),$.fn.AuxinCartTotalItems=function($scope){if($scope=$scope||$(this),$totalItems=$scope.find(".aux-cart-total-items"),0!==$totalItems.length){var $items=$scope.find(".aux-card-item"),totalCount=0;$items.each(function(index,el){var itemCount=parseInt($(el).find(".aux-card-item-details > span").text().trim().split(" ")[0]);totalCount+=itemCount}),$totalItems.find(".number").text(totalCount)}},$(".site-header-section").each(function(index,el){$(el).find(".aux-cart-wrapper").AuxinCartTotalItems()}),$.fn.AuxinShopWidgetAreaHandler=function($scope){$scope=$scope||$(this);var $window=$(window),st={areaClass:".aux-shop-widget-area",$btn:$scope.find(".aux-shop-custom-widget-area-btn"),$area:$scope.find(".aux-shop-widget-area"),openClass:"aux-open"};st.$btn.on("click",function(e){e.preventDefault(),e.stopPropagation();var areaHeight=st.$area.find(".aux-wrapper").outerHeight(),windowWidth=$window.width();st.$area.toggleClass(st.openClass),st.$area.hasClass(st.openClass)&&768<windowWidth?st.$area.css("height",areaHeight):!st.$area.hasClass(st.openClass)&&768<windowWidth?st.$area.css("height",0):windowWidth<768&&st.$area.css("height","auto")}),$window.on("resize load",function(){var areaHeight=st.$area.find(".aux-wrapper").outerHeight();st.$area.hasClass(st.openClass)&&($(window).width()<768?st.$area.css("height","auto"):st.$area.css("height",areaHeight))}),$(document).on("click",function(e){0===$(e.target).closest(st.areaClass).length&&$(st.areaClass).hasClass(st.openClass)&&st.$area.removeClass(st.openClass)})},$(".woocommerce-page").AuxinShopWidgetAreaHandler()}(jQuery);